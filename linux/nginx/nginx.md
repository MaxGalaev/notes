### Теория
При старте nginx, запускается главный master процесс(/usr/bin/nginx), который запускает worker процессы. Кол-во worker процессов определяется в конфиге, по умолчанию равно кол-ву ядер процессора(режим авто)

В  Ubuntu конфигурационные файлы всех сайтов лежат в /etc/nginx/sites-available. Включенные сайты через сим линки лежат в /etc/nginx/sites-enabled

Сами html файлы могут лежать где угодно, можно например в /var/www. По умолчанию дефолтный сайт лежит в /usr/share/nginx/html/index.html 

Перечитывание конфигурации 
```shell
sudo nginx -s reload
```

Если конфиг ок(синтаксис), то master процесс запустит новые worker, а старые убьет. 
Если конфиг кривой, ничего страшного не произойдет, останутся работать старые worker процессы 
### Установка
```shell
sudo apt install nginx
```

### Конфиг
/etc/nginx.conf - главный файл с конфигом
/etc/nginx/conf.d/  - папка для отдельных файлов конфигов для удобного разделения

### Применение

`Nginx` может использоваться в 3-х основных режимах. 
- Раздача статических файлов, когда файлы сайта лежат на самом сервере
- В качестве reverse-proxy, когда запросы передаются на какой-то backend, через директиву `proxy_pass` или например `fastcgi_pass`. Это можем быть другой сервер, или приложение на другом порту. 
- В качестве балансировщика нагрузки, используя директиву `upstream`, при этом балансировка происходит только на уровне `HTTP`, в отличие от `HAproxy`, который умеет делать балансировку и `TCP`. 
### Популярные заголовки `HTTP`

Для настройки параметров работы , в том числе безопасности, часто задаются различные заголовки `HTTP`, которые 
 