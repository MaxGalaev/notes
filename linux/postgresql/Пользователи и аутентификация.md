Настройки аутентификации для всех пользователей задаются в специальном файле конфигурации. Для 17-ой версии Postgresql по умолчанию это:
```shell
/etc/postgresql/17/main/pg_nba.conf
```
Из самого постгреса расположение файла можно проверить командой:
```sql
SHOW hba_file;
```
Посмотреть как этот файл выглядит с точки зрения самого Постгреса:
```sql
SELECT type, database, user_name, address, auth_method FROM pg_hba_file_rules;
```
Как описываются подключения:
![[pg_hba.png]]

В Постгресе на данный момент нет понятия пользователя как такового. Это понятие заменено на понятие роли. Роль с атрибутом логина и есть пользователь. Роль может включать в себя другие роли, такая роль будет групповой. Создать пользователя(роль с логином) можно с помощью команды:
```sql
CREATE USER maxim WITH PASSWORD 'strong_password';
```
или тоже самое, но через роль:
```sql
CREATE ROLE maxim WITH LOGIN PASSWORD 'strong_password';
```

При установке автоматически создается пользователь postgres, который обладает привелегиями суперпользователя в СУБД. Первоначальная настройки производится от его имени. Зайти с его именем можно так:
```shell
sudo -i -u postgres psql
```
и мы автоматом попадаем в консоль постгреса. 