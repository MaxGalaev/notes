
В распределенных системах часто обмен сообщениями между микросервисами происходит асинхронно, а не напрямую. Чтобы организовать такое взаимодействие используются брокеры сообщений, которые временно сохраняют у себя данные. 
Одним из таких брокеров является Rabbitmq. 

Упрощенно архитектуру можно описать так:
- Паблишер, который отправляет сообщения
- Очередь, в которой хранятся сообщения
- Подписчики, которые выступают получателями сообщений

Rabbitmq передает сообщения между поставщиками и подписчиками через очереди. RabbitMQ отлично подходит для интеграции разных компонентов, создания микросервисов, потоковой передачи данных в режиме реального времени или при передаче работы удалённым работникам.

Rabbitmq может работать в кластерной конфигурации, что позволяет синхронизировать все кроме очередей между узлами кластера. Узлы кластера не делятся на ведущие и ведомые, а работают независимо, синхронизируя конфигурацию. 

Для синхронизации очередей между узлами кластера используется так называемый Quorum Queue. В таком случае число узлов кластера должно быть нечетным, потому что при падении одного или нескольких узлов 

Чтоба аутентифицировать друг друга, узлы кластера используют Erlang cookie. Это просто строка текста по пути: 
```
/var/lib/rabbitmq/.erlang.cookie
```
Узлы кластера должны иметь иметь одинаковую cookie. 